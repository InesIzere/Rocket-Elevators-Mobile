{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\izere\\\\RE\\\\screens\\\\ElevatorStatus\\\\index.js\";\n\nimport 'react-native-gesture-handler';\nimport React, { useState, useEffect } from 'react';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Appbar, Button } from 'react-native-paper';\n\nvar ElevatorStatusScreen = function ElevatorStatusScreen(props) {\n  var id = props.route.params.id;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  useEffect(function () {\n    fetch(\"https://rocketmobile2000.herokuapp.com/api/elevators/\" + id).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      return setData(json);\n    }).catch(function (error) {\n      return console.error(error);\n    }).finally(function () {\n      return setLoading(false);\n    });\n  }, [data]);\n  useEffect(function () {\n    return function () {\n      console.log(\"cleaned up\");\n    };\n  }, []);\n\n  function updateStatus() {\n    fetch(\"https://rocketmobile2000.herokuapp.com/api/elevators/\" + id, {\n      method: 'POST',\n      headers: new Headers({\n        'Content-Type': ' application/json'\n      }),\n      body: JSON.stringify({\n        status: 'Active'\n      })\n    }).then(function (response) {\n      return response.text();\n    }).then(function (responseText) {\n      alert(responseText);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  }\n\n  ;\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 3\n    }\n  }, React.createElement(TouchableOpacity, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, isLoading ? React.createElement(ActivityIndicator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }\n  }) : React.createElement(Text, {\n    style: [styles.status, data.status == \"Inactive\" ? {\n      backgroundColor: 'red'\n    } : {\n      backgroundColor: 'green'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, data.status), React.createElement(Button, {\n    style: styles.buttonText,\n    color: \"black\",\n    icon: \"camera\",\n    mode: \"outlined\",\n    onPress: function onPress() {\n      return updateStatus();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"End Task\"), React.createElement(Button, {\n    style: styles.buttonText,\n    color: \"black\",\n    icon: \"logout\",\n    mode: \"outlined\",\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Elevator List\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Back\")));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  instructions: {\n    color: '#888',\n    fontSize: 18,\n    margin: 15\n  },\n  status: {\n    padding: 100,\n    borderRadius: 10,\n    color: \"white\",\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    fontSize: 20\n  },\n  buttonText: {\n    fontSize: 20,\n    color: '#fff'\n  },\n  textinput: {\n    fontSize: 30,\n    height: 40,\n    margin: 10\n  },\n  elevatorId: {\n    backgroundColor: \"red\",\n    padding: 20,\n    borderRadius: 5,\n    textAlign: \"center\"\n  },\n  elevatorIdText: {\n    fontSize: 20,\n    color: '#fff'\n  },\n  image: {\n    flex: 1,\n    resizeMode: \"cover\",\n    justifyContent: \"center\"\n  }\n});\nexport default ElevatorStatusScreen;","map":{"version":3,"sources":["C:/Users/izere/RE/screens/ElevatorStatus/index.js"],"names":["React","useState","useEffect","Appbar","Button","ElevatorStatusScreen","props","id","route","params","isLoading","setLoading","data","setData","fetch","then","response","json","catch","error","console","finally","log","updateStatus","method","headers","Headers","body","JSON","stringify","status","text","responseText","alert","styles","container","backgroundColor","buttonText","navigation","navigate","StyleSheet","create","flex","alignItems","justifyContent","instructions","color","fontSize","margin","padding","borderRadius","textAlign","fontWeight","textinput","height","elevatorId","elevatorIdText","image","resizeMode"],"mappings":"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","sourcesContent":["import 'react-native-gesture-handler';\r\nimport React,{useState,useEffect} from 'react';\r\nimport { ActivityIndicator,ImageBackground,Image, StyleSheet, Text, View, TouchableOpacity, ScrollView} from 'react-native';\r\nimport {  Appbar, Button} from 'react-native-paper';\r\n\r\n\r\n\r\nconst ElevatorStatusScreen=(props)=> {\r\n\r\n    const { id } = props.route.params;\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [data, setData] = useState([]);\r\n\r\n// function for status Check\r\n     useEffect(()=>{\r\n      fetch(`https://rocketmobile2000.herokuapp.com/api/elevators/${id}`)\r\n        .then((response) => response.json())\r\n        .then((json) => setData(json))\r\n        .catch((error) => console.error(error))\r\n        .finally(() => setLoading(false));                      \r\n    }, [data]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n          console.log(\"cleaned up\");\r\n        };\r\n      }, []);\r\n\r\n\r\n\r\nfunction updateStatus() {\r\n    fetch(`https://rocketmobile2000.herokuapp.com/api/elevators/${id}`, {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n                   'Content-Type': ' application/json', //  Content-Type\r\n          }),\r\n        body: JSON.stringify({\r\n            status: 'Active'\r\n          })\r\n          // <-- Post parameters\r\n      })\r\n      .then((response) => response.text())\r\n      .then((responseText) => {\r\n        alert(responseText)\r\n        \r\n      })\r\n      .catch((error) => {\r\n          console.error(error);\r\n      });\r\n    };\r\n\r\n   //console.log(data)\r\n  return (\r\n  <View style={styles.container}>\r\n    <TouchableOpacity>\r\n\r\n\r\n\r\n     {isLoading ? <ActivityIndicator/> : (\r\n        <Text  style={[\r\n        styles.status,\r\n        data.status == \"Inactive\" ?\r\n        { backgroundColor: 'red' } \r\n        : { backgroundColor: 'green' }\r\n          ]}>\r\n         {data.status}\r\n          </Text>\r\n\r\n        )}\r\n\r\n\r\n        <Button style={styles.buttonText}  color=\"black\"\r\n          icon=\"camera\" mode=\"outlined\" onPress={() => updateStatus()}>\r\n           End Task\r\n        </Button>  \r\n\r\n\r\n\r\n          <Button style={styles.buttonText}  color=\"black\"\r\n            icon=\"logout\" mode=\"outlined\" onPress={() => props.navigation.navigate(\"Elevator List\")}>\r\n            Back\r\n           </Button>  \r\n       </TouchableOpacity>\r\n   \r\n     </View>\r\n    );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      backgroundColor: '#fff',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    instructions: {\r\n      color: '#888',\r\n      fontSize: 18,\r\n      margin: 15,\r\n  \r\n    }, \r\n    status: {\r\n      padding: 100,\r\n      borderRadius: 10,\r\n      color: \"white\",\r\n      textAlign: \"center\",\r\n      fontWeight: \"bold\",\r\n      fontSize: 20,\r\n    },\r\n    buttonText: {\r\n      fontSize: 20,\r\n      color: '#fff',\r\n    },\r\n    textinput: {\r\n      fontSize:30, height: 40,\r\n      margin: 10\r\n    },\r\n    elevatorId: {\r\n      backgroundColor: \"red\",\r\n      padding: 20,\r\n      borderRadius: 5,\r\n      textAlign: \"center\"\r\n    },\r\n    elevatorIdText: {\r\n      fontSize: 20,\r\n      color: '#fff',\r\n  \r\n    },\r\n    image: {\r\n        flex: 1,\r\n        resizeMode: \"cover\",\r\n        justifyContent: \"center\"\r\n      }\r\n  });\r\n  \r\n  export default ElevatorStatusScreen;"]},"metadata":{},"sourceType":"module"}